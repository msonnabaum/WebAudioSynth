/*
 EventEmitter v3.0.0

 Copyright 2011, Oliver Caldwell (olivercaldwell.co.uk)
 Dual licensed under the MIT or GPL Version 2 licenses.
 https://github.com/Wolfy87/EventEmitter
*/
function EventEmitter(){var c={},b=this;b.Event=function(a,e,d,c){var g=this;g.type=a;g.listener=e;g.once=c;g.fire=function(c){e.apply(d||g,c||[]);if(g.once)return b.removeListener(a,e),!1}};b.eachListener=function(a,e){var d=null,f=null;if(c.hasOwnProperty(a)){f=c[a];for(d=0;d<f.length;d+=1)e.call(b,f[d],d)===!1&&(d-=1)}};b.addListener=function(a,e,d,f){c.hasOwnProperty(a)||(c[a]=[]);c[a].push(new b.Event(a,e,d,f));b.emit("newListener",a,e,d,f);return b};b.on=b.addListener;b.once=function(a,c,d){return b.addListener(a,
c,d,!0)};b.removeListener=function(a,e){b.eachListener(a,function(b,f){b.listener===e&&c[a].splice(f,1)});c[a]&&c[a].length===0&&delete c[a];return b};b.removeAllListeners=function(a){c.hasOwnProperty(a)&&delete c[a];return b};b.listeners=function(a){return c.hasOwnProperty(a)?c[a]:!1};b.emit=function(a,c){b.eachListener(a,function(a){return a.fire(c)});return b}}if(typeof exports!=="undefined")exports.EventEmitter=EventEmitter;
